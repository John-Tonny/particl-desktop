<div mat-dialog-title>交易确认</div>
<button class="small-close-button pull-right" (click)="dialogClose()">
  <mat-icon fontSet="partIcon" fontIcon="part-circle-remove"></mat-icon>
</button>

<div mat-dialog-content class="dialog-content">

  <!--TX confirmation-->
  <div class="tx-confirmation">
    <div class="tx-info">
      <!-- if public -->
      <div class="public" *ngIf="transactionType === 'part'">
        <mat-icon class="icon public" fontSet="partIcon" fontIcon="part-public"></mat-icon>
        <div class="title">公开交易</div>
        <p class="widget-help">
	  接收方、发送方和交易金额将在区块链上可见。
        </p>
      </div>
      <!-- if blind / anon-->
      <div class="blind" *ngIf="transactionType === 'blind'">
        <mat-icon class="icon public" fontSet="partIcon" fontIcon="part-blind"></mat-icon>
        <div class="title">混肴交易</div>
        <p class="widget-help">
          接收方和发送方将在区块链上可见，但是交易金额将被隐藏。
        </p>
      </div>
      <div class="anon" *ngIf="transactionType === 'anon'">
        <mat-icon class="icon public" fontSet="partIcon" fontIcon="part-anon"></mat-icon>
        <div class="title">匿名交易</div>
        <p class="widget-help">
          接收方、发送方和交易金额在区块链上被隐藏，为隐私保护的最高级别。
        </p>
      </div>
    </div>

    <div class="tx-amount">
      <span class="big">{{ sendAmount.getIntegerPart() }}</span>
      <span *ngIf="sendAmount.ifDotExist()">
      <span class="point">.</span>
      <span class="small">{{ sendAmount.getFractionalPart() }}</span>&ensp;</span>
      <span class="currency">VP</span>
      <!-- TODO: until fiat estimations are implemented, hide them -->
      <div class="fiat">&asymp; 3.42 USD</div>
    </div>

    <mat-icon class="icon arrow" fontSet="partIcon" fontIcon="part-arrow-down"></mat-icon>

    <div class="receiver-info">
      <!--if address saved in Address Book, display its label. if not, hide it -->
      <div class="label" *ngIf="receiverName !== ''">{{ receiverName }}</div>
      <div class="label" *ngIf="!sendAddress">Balance Transfer</div>
      <code class="address"> {{ sendAddress }} </code>
    </div>

    <p class="fee-info">
      手续费:<span class="amount">{{ transactionAmount.getFee() }} VP</span><span class="fiat">&asymp; 0.05 USD</span><br>
      总金额:<span
      class="amount">{{ transactionAmount.getAmountWithFee(sendAmount.getAmount()) }} VP</span><span class="fiat">&asymp; 3.47 USD</span>
    </p>
  </div><!-- TX confirmation -->

</div><!-- .dialog-content -->

<mat-dialog-actions fxLayoutAlign="space-between center">
  <button mat-button mat-dialog-close (click)="dialogClose()">
    <mat-icon fontSet="partIcon" fontIcon="part-cross"></mat-icon>
    取消
  </button>
  <button mat-raised-button color="primary" mat-dialog-close (click)="confirm()">
    <mat-icon fontSet="partIcon" fontIcon="part-check"></mat-icon>
    确认 & 发送
  </button>
</mat-dialog-actions>
